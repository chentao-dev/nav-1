{"version":3,"sources":["mian.js"],"names":["hashMap","JSON","parse","localStorage","getItem","url","render","$","remove","forEach","v","i","$iocUrl","replace","$linkUrl","$li","insertBefore","find","onclick","splice","setItem","stringify","on","prompt","indexOf","push","document","e","key","length","open","onkeypress","stopPropagation"],"mappings":"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","file":"mian.e2becb69.js","sourceRoot":"..\\src","sourcesContent":["// 数组数据 (本地or默认)\r\nlet hashMap = JSON.parse(localStorage.getItem(\"x\")) || [\r\n  { url: \"//www.acfun.cn\" },\r\n  { url: \"//www.bilibili.com\" },\r\n];\r\n\r\n// 刷新页面\r\nfunction render() {\r\n  //先删除页面中, 除了新增按钮的所有li\r\n  $(\"li:not(.last)\").remove();\r\n  //遍历数据新增\r\n  hashMap.forEach((v, i) => {\r\n    let $iocUrl = v.url.replace(/.*\\/\\//, \"\").replace(/\\/.*/, \"\"); //删除//之前的, 删除/之后的\r\n    let $linkUrl = $iocUrl.replace(\"www.\", \"\");\r\n    let $li = $(`\r\n          <li>\r\n            <a href=\"${v.url}\">\r\n                <div class=\"site\">\r\n                    <div class=\"logo\"><img src=\"//${$iocUrl}/favicon.ico\" alt=\"\" onerror=\"this.src='images/page.png';this.onerror=null\"></div>\r\n                    <div class=\"link\">${$linkUrl}</div>\r\n                </div>\r\n            </a>\r\n            <div class='close'>\r\n                <svg class=\"icon\">\r\n                    <use xlink:href=\"#icon-close\"></use>\r\n                </svg>\r\n            </div>\r\n          </li>\r\n    `).insertBefore($(\"li.last\"));\r\n    //按钮,监听点击\r\n    $li.find(\".close\")[0].onclick = () => {\r\n      hashMap.splice(i, 1);\r\n      localStorage.setItem(\"x\", JSON.stringify(hashMap));\r\n      //刷新\r\n      render();\r\n    };\r\n  });\r\n}\r\nrender();\r\n\r\n// 按钮,监听点击\r\n$(\".addButton\").on(\"click\", () => {\r\n  let url = prompt(\"请问你要添加的网址是什么?\");\r\n  // 如果没有//就添加//\r\n  if (url.indexOf(\"//\") === -1) {\r\n    url = \"//\" + url;\r\n  }\r\n  //新增数据\r\n  hashMap.push({ url: url });\r\n  //存到本地存储中\r\n  localStorage.setItem(\"x\", JSON.stringify(hashMap));\r\n  //刷新\r\n  render();\r\n});\r\n\r\n// 页面,监听按键\r\n$(document).on(\"keypress\", (e) => {\r\n  let { key } = e;\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    let url = hashMap[i].url.replace(/.*\\/\\//, \"\").replace(\"www.\", \"\");\r\n    if (url[0] === key) {\r\n      open(hashMap[i].url);\r\n    }\r\n  }\r\n});\r\n\r\n// 因为事件委托, 子元素input要取消监听按键的冒泡\r\n$(\"input\")[0].onkeypress = (e) => {\r\n  e.stopPropagation();\r\n};\r\n"]}